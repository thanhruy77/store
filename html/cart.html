<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="discription" content="Эта Website посвященный Design и моде!">
    <meta name="keywords" content="YOUR LOGO, COLLUSION, HOME, SHOP, LOOKBOOK, FEATURES, PAGES, BLOG">
    <title>YOUR LOGO</title>
    <!--Добавили из google fonts шрифты нужных размеров!-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <!--Добавляем иконки из google fonts, не забыть прописать в конце ссылки +Outline-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
    <!--Подключаем css файл!-->
    <link rel="stylesheet" href="../css/styleformen.css">
    <script src="../js/cart.js"></script>

</head>

<body>


    <header>
        <div class="container">
            <div class="header">
                <a href="../index.html"><img src="../images/logo.png" height="100px" width="100px"></a>
                <nav class="header-nav">
                    <ul>
                        <li class="header-nav__item">
                            <a href="../index.html">HOME</a>
                        </li>
                        <li class="header-nav__item">
                            <a href="men.html">MEN</a>
                        </li>
                        <li class="header-nav__item">
                            <a href="women.html">WOMEN</a>
                        </li>
                        <li class="header-nav__item">
                            <a href="perfume.html">PERFUME</a>
                        </li>
                        <li class="header-nav__item">
                            <a href="page.html">PAGES</a>
                        </li>
                        <li class="header-nav__item">
                            <a href="blog.html">BLOG</a>
                        </li>
                    </ul>
                </nav>
                <div class="header-user">
                    <ul>
                        <li class="header-user__item">
                            <button class="material-icons-outlined">search</button>
                        </li>
                        <li class="header-user__item">
                            <a href="favorite.html" class="material-icons-outlined">favorite_border</a>
                        </li>
                        <li class="header-user__item">
                            <a href="cart.html" class="material-icons-outlined">shopping_cart</a>
                        </li>
                        <li class="header-user__item">
                            <a href="../login/login.html" class="material-icons-outlined">login</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </header>
    <hr>


    <script src="https://kit.fontawesome.com/f20d460fd9.js" crossorigin="anonymous"></script>

    <style>
        * {
            box-sizing: border-box;
            padding: 0;
            margin: 0;
        }

        .gio-hang {
            border: 1px solid #ddd;
            box-shadow: 2px 2px 4px #ddd;
            padding: 20px;
            margin: 200px;
            max-width: 1100px;


        }

        .gio-hang .tieude {
            font-size: 20px;
            color: green;
            margin-bottom: 20px;
        }

        img {
            width: 100%;
        }

        input {
            width: 500px;
            padding: 7px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .item-gio-hang {
            display: flex;
            flex-direction: row;
            align-items: center;
        }

        .gio-hang .tieudeitemgiohang {
            margin-bottom: 20px;
            font-weight: 600px;
        }

        .item-gio-hang .hinhanh img {
            width: 60px;
            height: 60px;
        }

        .item-gio-hang .hinhanh {
            width: 60px;
        }

        .item-gio-hang input {
            width: 100%;
        }

        .item-gio-hang .hinhanh,
        .soluong,
        .tongtien,
        .hanhdong {
            flex: 1;
            margin-left: 20px;
        }

        .item-gio-hang .gia {
            flex: 2;

        }

        .item-gio-hang .ten {
            flex: 3;

        }

        .item-gio-hang .gia .giagoc {
            font-size: 12px;
            text-decoration: line-through;
            color: #888;
        }

        .item-gio-hang .gia .giaban {
            color: #F7452E;
        }

        .item-gio-hang .hanhdong i {
            color: black;
        }

        .item-gio-hang .hanhdong i:hover {
            color: #F7452E;
        }

        .gio-hang .btn-clearall {
            background-color: #F7452E;
            margin-left: 100%;
        }
    </style>

    </head>


    <body>

        <div class="gio-hang" id="giohang">
            <h1 class="tieude">Danh sách sản phẩm <button class="btn-clearall"
                    style="cursor:pointer;margin-left:700px ;" onclick="xoasp()">Xóa Tất Cả</button></h1>
            <div class="item-gio-hang tieudeitemgiohang">
                <div class="hinhanh">
                </div>
                <p class="ten">Sản Phẩm</p>
                <div class="gia">
                    Đơn Giá
                </div>
                <p class="soluong">Số Lượng</p>
                <p class="tongtien">Tổng Tiền</p>
                <div class="hanhdong">
                    <p></p>
                </div>
            </div>

            <!-- danh sach san pham-->
            <section id="products">
                <!-- hiển thị danh sách sản phẩm-->
                <div class="items">
                </div>
            </section>
            <!-- danh sach san pham-->
        </div>


        <script>
            // lấy danh sách sản phẩm dưới localstorage
            var jsondanhsachsanpham = localStorage.getItem('dsgiohang')
            var danhsachsanpham = JSON.parse(jsondanhsachsanpham)
            console.log(danhsachsanpham)
            // chuyển danh sách object xang html
            var HTML = chuyendanhsachdoituongsanphamthanhhtml(danhsachsanpham);
            // gán html vào section products
            var nodeproducts = document.getElementById('products');
            nodeproducts.innerHTML = HTML;
        </script>
        <script>


        </script>



        <h1 align="center">Infomation</h1>
        <p class="text" style="color: #AAA;">
            <br>
        </p>
        <form onsubmit="return taodonhang();">
            <div class="row">
                <div class="col">
                    <div align="center" class="control">
                        <input type="text" name="ho-ten" id="hoten" placeholder="Họ và tên *" required>
                    </div>
                </div>
                <br>
            </div>
            <div class="row">
                <div class="col">
                    <div align="center" class="control">
                        <input type="text" name="sdt" id="sdt" placeholder="Số điện thoại *" required name="sdt"
                            pattern="[0-9]{1,10}" title="Định Dạng Số Điện Thoại Không Đúng">
                    </div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col">
                    <div align="center" class="control">
                        <input type="text" name="dia-chi" id="diachi" placeholder="Địa chỉ nhận hàng *" required>
                    </div>
                </div>
            </div>
            <div align="center">
                <br>
                <button type="submit" style="cursor:pointer;" class="btn">XÁC NHẬN VÀ ĐẶT HÀNG</button>
        </form>
        </div>

        <br>
        <br>



        <script>
            //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 
            // lấy danh sách sản phẩm đã có trong localstorage


            //                                               tạo đơn hàng
            var danhsachdonhang = JSON.parse(localStorage.getItem('dsdonhang'));
            if (danhsachdonhang == null) {
                danhsachdonhang = [];
            }
            console.log(danhsachdonhang);
            function taodonhang() {
                var nodehoten = document.getElementById('hoten');
                var hoten = nodehoten.value;
                nodehoten.value = '';
                var nodesdt = document.getElementById('sdt');
                var sdt = nodesdt.value;
                nodesdt.value = '';

                var nodediachi = document.getElementById('diachi');
                var diachi = nodediachi.value;
                nodediachi.value = '';

                const DEFAULT_STATUS = 'Chờ xác nhận';

                const danhSachSP = localStorage.getItem("dsgiohang") ? JSON.parse(localStorage.getItem("dsgiohang")) : [];
                if (danhSachSP.length > 0) {
                    var donhang = taodoituongdonhang(hoten, sdt, diachi, DEFAULT_STATUS, null, []);
                    danhSachSP.forEach(function (sp) {
                        var sanpham = {
                            hinhanh: sp.hinhanh,
                            ten: sp.ten,
                            soluong: sp.soluong,
                            giamgia: sp.giamgia
                        };
                        donhang.sanpham.push(sanpham);
                    });

                    danhsachdonhang.push(donhang);
                    localStorage.setItem('dsdonhang', JSON.stringify(danhsachdonhang));
                    alert('Đặt Hàng Thành Công!!!');
                }
            }

            function taodoituongdonhang(hoten, sdt, diachi, xacnhan, id, sanpham) {
                var donhang = new Object();
                donhang.hoten = hoten;
                donhang.sdt = sdt;
                donhang.diachi = diachi;
                donhang.xacnhan = xacnhan;
                if (id != null) {
                    donhang.id = id;
                } else {
                    donhang.id = taoid();
                }
                donhang.sanpham = sanpham;
                donhang.toJson = function () {
                    var json = JSON.stringify(this);
                    return json;
                };
                donhang.fromJSON = function (json) {
                    var doituongdaydu = new Object();
                    var doituong = JSON.parse(json);
                    var doituongdaydu = taodoituongdonhang(doituong.hoten, doituong.sdt, doituong.diachi, doituong.id, doituong.xacnhan, doituong.sanpham);
                    return doituongdaydu;
                };
                return donhang;
            }

            function taoid() {
                var id = '';
                id = Math.random().toString().substring(2, 10) + "_" + String(new Date().getTime());
                return id;
            }


        </script>






















        <footer>
            <div>
                <div class="footer-main">
                    <div class="container">
                        <div class="footer">
                            <div class="footer-left">
                                <img src="../images/logo.png" height="58%" width="52%" alt="">
                                <p class="footer__text">We earned a reputation of being good at what we do.
                                    Let us take your online shop to new dimension in success!</p>
                                <span class="footer__location">Comilla, Bangladesh 3500</span>
                                <a href="mailto:kawsarahmed0210@gmail.com"
                                    class="footer__email">kawsarahmed0210@gmail.com</a>
                                <a href="tel:01647470457" class="footer__tel">01647470457</a>
                                <div class="social">
                                    <a href="#" class="social__link"><svg fill="#000000"
                                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px"
                                            height="24px">
                                            <path
                                                d="M11.666,2.005C6.62,2.17,2.374,6.251,2.025,11.288c-0.369,5.329,3.442,9.832,8.481,10.589V14.65H8.892 c-0.726,0-1.314-0.588-1.314-1.314v0c0-0.726,0.588-1.314,1.314-1.314h1.613v-1.749c0-2.896,1.411-4.167,3.818-4.167 c0.357,0,0.662,0.008,0.921,0.021c0.636,0.031,1.129,0.561,1.129,1.198v0c0,0.663-0.537,1.2-1.2,1.2h-0.442 c-1.022,0-1.379,0.969-1.379,2.061v1.437h1.87c0.591,0,1.043,0.527,0.953,1.111l-0.108,0.701c-0.073,0.47-0.477,0.817-0.953,0.817 h-1.762v7.247C18.235,21.236,22,17.062,22,12C22,6.366,17.341,1.821,11.666,2.005z" />
                                        </svg></a>
                                    <a href="#" class="social__link"><svg fill="#000000"
                                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px"
                                            height="24px">
                                            <path
                                                d="M 8 3 C 5.243 3 3 5.243 3 8 L 3 16 C 3 18.757 5.243 21 8 21 L 16 21 C 18.757 21 21 18.757 21 16 L 21 8 C 21 5.243 18.757 3 16 3 L 8 3 z M 8 5 L 16 5 C 17.654 5 19 6.346 19 8 L 19 16 C 19 17.654 17.654 19 16 19 L 8 19 C 6.346 19 5 17.654 5 16 L 5 8 C 5 6.346 6.346 5 8 5 z M 17 6 A 1 1 0 0 0 16 7 A 1 1 0 0 0 17 8 A 1 1 0 0 0 18 7 A 1 1 0 0 0 17 6 z M 12 7 C 9.243 7 7 9.243 7 12 C 7 14.757 9.243 17 12 17 C 14.757 17 17 14.757 17 12 C 17 9.243 14.757 7 12 7 z M 12 9 C 13.654 9 15 10.346 15 12 C 15 13.654 13.654 15 12 15 C 10.346 15 9 13.654 9 12 C 9 10.346 10.346 9 12 9 z" />
                                        </svg></a>
                                    <a href="#" class="social__link"><svg fill="#000000"
                                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30px"
                                            height="30px">
                                            <path
                                                d="M28,6.937c-0.957,0.425-1.985,0.711-3.064,0.84c1.102-0.66,1.947-1.705,2.345-2.951c-1.03,0.611-2.172,1.055-3.388,1.295 c-0.973-1.037-2.359-1.685-3.893-1.685c-2.946,0-5.334,2.389-5.334,5.334c0,0.418,0.048,0.826,0.138,1.215 c-4.433-0.222-8.363-2.346-10.995-5.574C3.351,6.199,3.088,7.115,3.088,8.094c0,1.85,0.941,3.483,2.372,4.439 c-0.874-0.028-1.697-0.268-2.416-0.667c0,0.023,0,0.044,0,0.067c0,2.585,1.838,4.741,4.279,5.23 c-0.447,0.122-0.919,0.187-1.406,0.187c-0.343,0-0.678-0.034-1.003-0.095c0.679,2.119,2.649,3.662,4.983,3.705 c-1.825,1.431-4.125,2.284-6.625,2.284c-0.43,0-0.855-0.025-1.273-0.075c2.361,1.513,5.164,2.396,8.177,2.396 c9.812,0,15.176-8.128,15.176-15.177c0-0.231-0.005-0.461-0.015-0.69C26.38,8.945,27.285,8.006,28,6.937z" />
                                        </svg></a>
                                    <a href="#" class="social__link"><svg fill="#000000"
                                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30px"
                                            height="30px">
                                            <path
                                                d="M24,4H6C4.895,4,4,4.895,4,6v18c0,1.105,0.895,2,2,2h18c1.105,0,2-0.895,2-2V6C26,4.895,25.105,4,24,4z M10.954,22h-2.95 v-9.492h2.95V22z M9.449,11.151c-0.951,0-1.72-0.771-1.72-1.72c0-0.949,0.77-1.719,1.72-1.719c0.948,0,1.719,0.771,1.719,1.719 C11.168,10.38,10.397,11.151,9.449,11.151z M22.004,22h-2.948v-4.616c0-1.101-0.02-2.517-1.533-2.517 c-1.535,0-1.771,1.199-1.771,2.437V22h-2.948v-9.492h2.83v1.297h0.04c0.394-0.746,1.356-1.533,2.791-1.533 c2.987,0,3.539,1.966,3.539,4.522V22z" />
                                        </svg></a>
                                </div>
                            </div>
                            <div class="footer-right">
                                <h3 class="footer__title">RECIVE EMAIL UPDATES</h3>
                                <form class="footer-form">
                                    <input type="email" class="footer-form__input" placeholder="Your Email Address">
                                    <button class="footer-form__btn">JOIN</button>
                                </form>
                                <nav class="footer-nav-wrap">
                                    <div class="footer-nav">
                                        <h4 class="footer-nav__title">SHOP</h4>
                                        <ul>
                                            <li class="footer-nav__item">
                                                <a href="#">Shop</a>
                                            </li>
                                            <li class="footer-nav__item">
                                                <a href="#">Collection</a>
                                            </li>
                                            <li class="footer-nav__item">
                                                <a href="#">Outlet</a>
                                            </li>
                                            <li class="footer-nav__item">
                                                <a href="#">Lookbook</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="footer-nav">
                                        <h4 class="footer-nav__title">HELP</h4>
                                        <ul>
                                            <li class="footer-nav__item">
                                                <a href="#">FAQ</a>
                                            </li>
                                            <li class="footer-nav__item">
                                                <a href="#">Privecy Policy</a>
                                            </li>
                                            <li class="footer-nav__item">
                                                <a href="#">Tearms and conditions</a>
                                            </li>
                                            <li class="footer-nav__item">
                                                <a href="#">Return and Exchanges</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="footer-nav">
                                        <h4 class="footer-nav__title">ABOUT</h4>
                                        <ul>
                                            <li class="footer-nav__item">
                                                <a href="#">Journal</a>
                                            </li>
                                            <li class="footer-nav__item">
                                                <a href="#">Our Story</a>
                                            </li>
                                            <li class="footer-nav__item">
                                                <a href="#">Contact</a>
                                            </li>
                                            <li class="footer-nav__item">
                                                <a href="../login/admin.html">Admin</a>
                                            </li>
                                        </ul>
                                    </div>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer-copyright">
                    <div class="container">
                        <p class="footer-copyright__text">Copyright &#169; 2020. Your company name All rights reserved
                        </p>
                    </div>
                </div>
            </div>
        </footer>
    </body>

</html>